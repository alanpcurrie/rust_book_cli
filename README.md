# Rust Program Readme

[The Rust Programming Language: An I/O Project: Building a Command Line Program](https://doc.rust-lang.org/book/ch12-00-an-io-project.html)

This Rust program provides a simple text search functionality. It allows you to search for a specific query within a given file and optionally ignore case while searching. The program uses the standard library modules `std::env` and `std::fs` for environment variables and file operations.

## Usage

To use this program, you need to provide the following command-line arguments:

```
cargo run <query> <file_path>
```

- `<query>`: The query string you want to search for.
- `<file_path>`: The path to the file in which you want to perform the search.

Additionally, you can set the `IGNORE_CASE` environment variable to enable case-insensitive search. For example:

## Powershell usage

```
IGNORE_CASE=1 cargo run <query> <file_path>
```

## Mac usage

```
import IGNORE_CASE=1 cargo run <query> <file_path>
```

remove env var

```
unset IGNORE_CASE
```

## Configuring the Program

The program uses a `Config` struct to store the configuration parameters. The `Config` struct has the following fields:

- `query`: The query string.
- `file_path`: The path to the file.
- `ignore_case`: A boolean indicating whether to perform a case-insensitive search.

The `Config` struct provides a `build` method that takes command-line arguments and returns a `Result` containing the constructed `Config` instance. If there are not enough arguments, an error will be returned.

## Running the Program

The main logic of the program is implemented in the `run` function. It takes a `Config` object as a parameter and performs the search based on the configuration. If the file is successfully read and the search is performed, the matching lines are printed to the console.

## Searching Functions

The program provides two search functions: `search` and `search_case_insensitive`. These functions take a query string and the contents of the file and return a vector of matching lines.

- `search`: Performs a case-sensitive search by checking if each line contains the query string.
- `search_case_insensitive`: Performs a case-insensitive search by converting both the query string and each line to lowercase and checking for containment.


## env var

To write the standard output of the program to a file using the `cargo run` command, you can use shell redirection. The `>` symbol is used to redirect the output to a file.

Here's an example of how you can use shell redirection with the `cargo run` command to write the output to a file named `output.txt`:

```
$ cargo run > output.txt
```

After running this command, the standard output generated by the program will be saved to the `output.txt` file.

Make sure to run this command in your terminal or command prompt from the directory where your Rust project is located.

For more information about shell redirection and how it works, you can refer to the documentation of your operating system or shell.


 After running this command, the standard output generated by the program will be saved to the output.txt file.

Make sure to run this command in your terminal or command prompt from the directory where your Rust project is located.

When running the program without providing the required arguments and redirecting the standard output to a file using `cargo run > output.txt`, you may encounter an error. Here's an example of the error message you might see:

```
$ cargo run > output.txt
Problem parsing arguments: not enough arguments
```

This error message indicates that the program expects a certain number of arguments but did not receive the necessary amount. In this case, it requires at least two arguments: the query string and the file path.

To resolve this error, you need to provide the required arguments when running the program. Ensure that you include the query string and the file path as command-line arguments, following the `cargo run` command.

If you have any further questions or need additional assistance, feel free to ask.


## Running Tests

The program includes unit tests for the search functions. To run the tests, use the following command:

```
cargo test
```

The tests verify the functionality of both the case-sensitive and case-insensitive search functions.

---
